<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>字符串的扩展</title>
</head>
<body>
  
</body>
<script>

  //JSON.stringify()的改造

  //字符串添加了遍历器接口,使得字符串可以被for......of循环遍历
  for(let codePoint of 'foo'){
    console.log(codePoint);
  } // f o o
  //模板字符串
  //模板字符串(Template string)是增强版的字符串,用反引号(`)标识.
  //它可以当做普通字符串来使用.也可以定义多行字符串,或者在字符串中嵌入变量
  
  //普通字符串
  `In Javascript '\n' is a line-feed`
  //多行字符串
  `In Javascript this is not legal`

  console.log(`string text line 1 string text line 2`)

  //字符串中嵌入变量
  let name = "Bob", time = 'today';
  `Hello ${name},how are you${time}`

  //如果在模板字符串中需要使用反引号,则前边要用反斜杠转意
  let greeting = `\`Yo\`World`;
  console.log(greeting) //`Yo`World

  //如果使用模板字符串表示多行字符串,所有的空格和缩进都会被保留在输出之中
  $('#list').html(`
    <ul>
      <li>first</li>
      <li>second</li>
    </ul>
  `);
  //上边代码中,所有模板字符串的空格和换行都是被保留的 比如<ul>标签前面会有一个换行,如果不想换行可以使用trim()方法消除
    $('#list').html(`
      <ul>
        <li>first</li>
        <li>second</li>
      </ul>
    `.trim());
  //大括号中可以放入任何JavaScript表达式 可以进行运算 以及引用对象属性
  let x =1; let y =2;
  `${x} + ${y} = ${x+y}`; // "1 + 2 = 3"
  `${x} + ${y*2} = ${x+y*2}` // "1 + 4 = 5"

  let obj = {x:1,y:2};
  `{obj.x +objy}` //3

  //模板字符串之中还能调用函数
  function fn() {
    return 'hello world'
  }
  `foo ${fn()} bar` //foo hello world bar
  
</script>
</html>